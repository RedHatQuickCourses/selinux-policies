:time_estimate: 5

= Packaging SELinux Policy Modules

_Estimated reading time: *{time_estimate} minutes*._

Objective::

Understand the use of RPM packages to redistribute SELinux policy modules to multiple RHEL systems.

WARNING: Pending Review

== Redistributing SELinux Policy Modules

When your SELinux policy module is complete and validated, you are most likely installing it into multiple systems. Just like you need a way of applying the same SELinux settings to ultiple machines, you also need a way of insalling the same SELinux policy module to multiple machines.

The policy module autogenerated by the `sepolicy` command already includes all files required to package a binary policy module as an RPM package. In fact, the autogenerated build script builds the RPM package for you.

RHEL itself installs its system services and updates from RPM packages, so your process for distibuting and updating RHEL works for your custom SELinux policy modules, for example by using https://www.redhat.com/en/technologies/management/satellite[Red Hat Satellite].

Ansible playbooks can also install and update RPM packages, closing the loop of having consistent SELinux settings and custom policies in all systems that need them.

== RPM Package Customization

If you create a more sophisticated SELinux policy module, for example by defining multiple file and resource types, you should review the postinsall and presintall scripts of the autogenerated RPM package to ensure they perform all required operations, such as relabeling files and labeling network ports.

== Next Steps

The next activity completes the custom policy for the third-party application by resolving its latest AVC error and them validating the policy in enforcing mode. It them concludes by inspecting the autogeneratd RPM package.


== FROM HERE ON, RAW COPY-AND-PASTE FROM OTHER SOURCES, PENDING REORGANIZATION
